{"name":"Code hdu","tagline":"solutions to hduoj","body":"### What does \"HDOJ\" stand for ?\r\nA HDOJ is short for Hangzhou Dianzi University Online Judge which was founded in September 2005 and has the lastest version of 3.0..\r\n\r\n### Problem 1100\r\n\r\nhttp://blog.sohu.com/people/!Zm9nZ3lfZWxmQHNvaHUuY29t/79594466.html\r\n\r\n执行步骤：\r\n\r\n首先，我们必须根据输入的N确定结点数node和子编号数index.\r\n\r\n假设node个节点的树一共有A[node]棵，我们可以用一个数组A[0..MAXNODE]来存放这些量，那么：\r\n\r\nA[0] = 1;\r\n\r\nA[1] = 1;\r\n\r\nA[2] = A[0] * A[1] + A[1] * A[0] = 2;  // 其中每一个项表示左右子树结点数的不同组合\r\n\r\nA[3] = A[0] * A[2] + A[1] * A[1] + A[3] * A[0];\r\n\r\n...\r\n\r\n;\r\n\r\n这样可以确定A，同时，建立数组B，B[node]为A的累加，表示node个节点以下的树一共有多少棵。根据搜索N在B[node]中的区间，可以确定节点数，同时，题目说明最大的编号不超过500,000,000，这样通过实验的方法求出MAXNODE = 19就够了。\r\n\r\n计算出的A、B序列大致如下：\r\n\r\nnode =    [      0     1     2     3     4     5     ...    ]\r\n\r\nA =               [      1     1     2     5     14    42    ...    ]\r\n\r\nB =         [      1     2     4     9     23    65    ...    ]\r\n\r\n例如，我们现在输入N = 55\r\n\r\n那么可以看到B[4] <= N < B[5]，于是可以断言这棵树有5个节点，并且他是第N – B[4]个具有5个节点的树，也就是说：node = 5, index = 55 – 23 = 22;\r\n\r\n我们设定一个返回string的函数：\r\n\r\nstring tree( int node, int index );\r\n\r\n这个例子的结果就是调用：\r\n\r\ncout << tree(5, 22) << endl;\r\n\r\n在这个函数里面，我们将index按照这样的顺序搜索。\r\n\r\n因为在同样具有node = 5的所有树里面，最开始是A[0] * A[4] = 14种L = 0，R = 4的组合，因为22 >= 14，所以不是这种组合，我们将index变成22 – 14 = 6；然后是A[1] * A[3] = 5种L = 1，R = 3的组合，因为6 >= 5，所以也不是这种组合，index = 6 – 5 = 1；然后是A[2] * A[2] = 4种L = R = 2的组合，而1 < 4，因此求得这个编号的树为左子树节点为i = 2，右节点为j = 2的形式，并且为这种形式的第i种。\r\n\r\n然后我们必须确定左子树是第几种node = 2的树(indexL)，右子树是第几种node = 2 的树(indexR)。\r\n\r\n按照题目的规律，第0种i = j = 2的情况应该对应于indexL = 0，indexR = 0的情况，第1种i = j = 2的情况应该对应于indexL = 0，indexR = 1的情况。\r\n\r\n那么，普遍地说，当任意的左子树结点数为i，右子树结点数为j的第index种组合，它的左子树序号应该为indexL = index / A[i]，右子树序号应该为indexR = index % A[i]；\r\n\r\n于是，可以递归的调用tree()函数：\r\n\r\nreturn tree(i, indexL) + ‘X’ + tree(j,indexR) 来获得上一级的字符串。\r\n\r\n当然实际的程序要考虑到左子树或右子树为空的情况，来决定是否打上括号。并且递归的退出条件要适当斟酌。\r\n\r\n具体请参看代码。","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}